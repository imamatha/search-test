<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="javascripts/search-content.js"></script>
<link rel="stylesheet" href="stylesheets/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="http://code.jquery.com/ui/1.9.1/themes/base/jquery-ui.css" />
<script src="http://code.jquery.com/jquery-1.8.2.js"></script>
<script src="http://code.jquery.com/ui/1.9.1/jquery-ui.js"></script>
<h3 align="center">Search </h3>
<table align="center">
 <tr>
  <td>
   <input type="text" id="query" size="66"/>
  </td>
  <td>
   <button id="search" type="Submit">Search</button>
  </td>
 </tr>
</table>
<br>
<script type="text/javascript">  
var Imtech = {};
Imtech.Pager = function() {
    this.paragraphsPerPage = 5;
    this.currentPage = 1;
    this.pagingControlsContainer = "#pagingControls";
    this.pagingContainerPath = "#tabs-2";
    
    this.numPages = function() {
        var numPages = 0;
        if (this.paragraphs != null && this.paragraphsPerPage != null) {
            numPages = Math.ceil(this.paragraphs.length / this.paragraphsPerPage);
			console.log("number of pages:::"+numPages);
        }
        
        return numPages;
    };
    
    this.showPage = function(page) {
        this.currentPage = page;
		console.log("pages:::"+page);
		console.log("Length::"+this.paragraphs.length);
        var html = "";
        for (var i = (page-1)*this.paragraphsPerPage; i < ((page-1)*this.paragraphsPerPage) + this.paragraphsPerPage; i++) {
            if (i < this.paragraphs.length) {
                var elem = this.paragraphs.get(i);
                html += "<" + elem.tagName + ">" + elem.innerHTML + "</" + elem.tagName + ">";
            }
        }
        console.log("html:::"+html);
        $(this.pagingContainerPath).html(html);
          $(this.pagingContainerPath).html(html).append(pagingControls);
        renderControls(this.pagingControlsContainer, this.currentPage, this.numPages());
    }
    
    var renderControls = function(container, currentPage, numPages) {
        var pagingControls = "Page: <ul>";
        for (var i = 1; i <= numPages; i++) {
            if (i != currentPage) {
                pagingControls += "<li><a href='#' onclick='pager.showPage(" + i + "); return false;'>" + i + "</a></li>";
            } else {
                pagingControls += "<li>" + i + "</li>";
            }
        }
        
        pagingControls += "</ul>";
		console.log("pageControl::::"+pagingControls);
        console.log("container::::"+container);
        $(container).html(pagingControls);
    }
}

 var pager = new Imtech.Pager();  

 $(document).ready(function() {  

     pager.paragraphsPerPage = 5; // set amount elements per page  

     pager.pagingContainer = $('#tabs-2'); // set of main container  

     pager.paragraphs = $('div.first', pager.pagingContainer); // set of required containers  

     pager.showPage(1);  

 });  

 </script> 
<div id="search-info" style="display: none">
	<div class="withborder">
	<h4>Search Results</h4>  
	<hr size="1" color="lightgrey"> 
			<div id="tabs">
				<ul>
					<li><a href="#tabs-1">All</a></li>
					<li><a href="#tabs-2">Discussion</a></li>
					<li><a href="#tabs-3">Document</a></li>
					<li><a href="#tabs-4">Blog</a></li>
				</ul>
				
				<div id="tabs-1" class="search-results"></div>
				<div id="tabs-2" class="search-results"></div>
				<div id="tabs-3" class="search-results"></div>
				<div id="tabs-4" class="search-results"></div>
				<div id="pagingControls"></div>
			</div>
			
		
		<div class='content' ></div>
	 </div>
</div>

